<!DOCTYPE html>
<html lang="zh-hant">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #container{
            width: 1000px;
            border: 1px solid black;
            margin: 0 auto;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
        img{
            width: 300px;
            height: 400px;
            margin: 10px;
        }
    </style>
</head>
<body>
    <h2 style="text-align: center;">用Unsplash_API串接9張隨機圖片</h2>
    <div id="container">
        
    </div>
    <script>
        let url = 'https://api.unsplash.com/photos/random?count=9&client_id=W4udD_0gjbcSB2kwV6qArGDQNe4cnRg9vDguSTB861o';
        let xhr = new XMLHttpRequest();
        let container = document.querySelector('#container')
        // window.onload = function(){
        //     xhr.open('GET',url);
        //     xhr.send();
        //     xhr.onreadystatechange = function(){
        //         if(xhr.readyState === 4){
        //             if(xhr.status >= 200 && xhr.status < 300){
        //                 let response = JSON.parse(xhr.response);
        //                 console.log(response);
        //                 for(let i = 0; i < response.length; i++){
        //                     let img = document.createElement('img');
        //                     img.setAttribute('src',response[i].urls.small);
        //                     container.append(img);
        //                 }
        //             }
        //         }
        //     }
        // }

        fetch('https://api.unsplash.com/photos/random?count=9&client_id=W4udD_0gjbcSB2kwV6qArGDQNe4cnRg9vDguSTB861o')
        .then((response) => {
            return response.json();
        })
        .then((response) => {
            console.log(response)
            for(let i = 0; i < response.length; i++){
                let img = document.createElement('img');
                img.setAttribute('src',response[i].urls.small);
                container.append(img);
            }
        })
        .catch((error) => {
            console.log(`error: ${error}`)
        })
        
    </script>
</body>
</html>